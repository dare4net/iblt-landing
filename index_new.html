<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>IBLT University - International Business and Leadership Training</title>
  <script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
  <link href="assets/css/style.css" rel="stylesheet"/>
  
  <!-- Tailwind Config -->
  <script>
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            primary: "#ff6600",
            "background-light": "#ffffff",
            "background-dark": "#111827",
            "text-light": "#374151",
            "text-dark": "#e5e7eb",
            "card-light": "#f9fafb",
            "card-dark": "#1f2937",
            "border-light": "#e5e7eb",
            "border-dark": "#374151",
          },
          fontFamily: { display: ["Avenir Next", "sans-serif"] },
          borderRadius: { DEFAULT: "0.5rem" },
        },
      },
    }
  </script>
  <script src="assets/js/include.js"></script>
  
  <!-- Loading Screen Styles -->
  <style>
    /* Loading screen overlay */
    #loading-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #ff6600;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 99999;
      transition: opacity 0.5s ease, visibility 0.5s ease;
    }
    
    #loading-screen.hidden {
      opacity: 0;
      visibility: hidden;
      pointer-events: none;
    }
    
    /* Loader animation */
    .loader {
      width: 40px;
      aspect-ratio: 1;
      --c: linear-gradient(#fff 0 0);
      --m: radial-gradient(farthest-side, #fff 92%, #0000);
      background: 
        var(--m) center               /12px 12px,
        var(--c) left 50% top    -20px/8px 16px, 
        var(--c) left 50% bottom -20px/8px 16px, 
        var(--c) top  50% left   -20px/16px 8px, 
        var(--c) top  50% right  -20px/16px 8px;
      background-repeat: no-repeat;
      animation: 
        l18-1 1.5s infinite,
        l18-2 1.5s infinite;
    }
    
    @keyframes l18-1 {
      30%,
      70% {
        background-position: 
          center,
          left 50% top    calc(50% - 8px),
          left 50% bottom calc(50% - 8px),
          top  50% left   calc(50% - 8px),
          top  50% right  calc(50% - 8px)
      }
    }
    
    @keyframes l18-2 {
      0%, 40%   { transform: rotate(0) }
      60%, 100% { transform: rotate(90deg) }
    }
    
    /* Loading text */
    #loading-text {
      color: white;
      font-size: 1.2rem;
      margin-top: 2rem;
      font-weight: 500;
      text-align: center;
      padding: 0 1rem;
    }
    
    /* Controls container */
    #loading-controls {
      position: absolute;
      bottom: 2rem;
      left: 0;
      right: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1rem;
      opacity: 0;
      transition: opacity 0.3s ease;
      padding: 0 1rem;
    }
    
    #loading-controls.visible {
      opacity: 1;
    }
    
    /* Network status */
    #network-status {
      background: rgba(255, 255, 255, 0.2);
      padding: 0.75rem 1.5rem;
      border-radius: 0.5rem;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      backdrop-filter: blur(10px);
      font-size: 0.9rem;
      max-width: 90%;
      text-align: center;
      flex-wrap: wrap;
    }
    
    /* Close button */
    #close-loader {
      background: white;
      color: #ff6600;
      border: none;
      padding: 0.875rem 2rem;
      border-radius: 0.5rem;
      font-weight: 600;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      transition: transform 0.2s, box-shadow 0.2s;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      font-size: 1rem;
      min-height: 48px;
      touch-action: manipulation;
    }
    
    #close-loader:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
    }
    
    #close-loader:active {
      transform: translateY(0);
    }
    
    /* Mobile specific styles */
    @media (max-width: 640px) {
      .loader {
        width: 50px;
      }
      
      #loading-text {
        font-size: 1.1rem;
        margin-top: 1.5rem;
      }
      
      #loading-controls {
        bottom: 1.5rem;
        gap: 0.75rem;
      }
      
      #network-status {
        padding: 0.625rem 1rem;
        font-size: 0.85rem;
        width: 90%;
      }
      
      #close-loader {
        padding: 1rem 1.5rem;
        font-size: 0.95rem;
        width: 90%;
        max-width: 300px;
      }
    }
  </style>
</head>
<body class="bg-background-light dark:bg-background-dark font-display text-text-light dark:text-text-dark transition-colors duration-300">

<!-- Loading Screen -->
<div id="loading-screen">
  <div class="loader"></div>
  <div id="loading-text">Loading...</div>
  
  <div id="loading-controls">
    <div id="network-status">
      <span class="material-icons" id="network-icon">wifi</span>
      <span id="network-text">Checking connection...</span>
    </div>
    <button id="close-loader">
      <span class="material-icons">close</span>
      <span>Close and Continue</span>
    </button>
  </div>
</div>

<!-- Header -->
<div data-include="partials/header.html"></div>

<!-- Hero Section -->
<div data-include="partials/hero.html"></div>

<!-- Features Section -->
<div data-include="partials/features.html"></div>

<!-- Welcome Section -->
<div data-include="partials/welcome.html"></div>

<!-- Programs Section -->
<div data-include="partials/programs.html"></div>

<!-- Admissions Section -->
<div data-include="partials/admissions.html"></div>

<!-- Contact Section -->
<div data-include="partials/contact.html"></div>

<!-- Partners Section -->
<div data-include="partials/partners.html"></div>

<!-- Newsletter Section -->
<div data-include="partials/newsletter.html"></div>

<!-- Footer -->
<div data-include="partials/footer.html"></div>

<!-- Page Scripts -->
<script>
  // Wait for partials to load before initializing scripts
  window.addEventListener('partials:loaded', function() {
    console.log('Partials loaded successfully!');
    
    // Carousel Script for Features Section
    (function() {
      const track = document.getElementById('carousel-track');
      if (!track) {
        console.warn('Carousel track not found');
        return;
      }
      const dots = document.querySelectorAll('#carousel-dots span');
      let index = 0;
      const total = dots.length;
      let autoPlayInterval;

    function updateCarousel() {
      track.style.transform = `translateX(-${index * 100}%)`;
      dots.forEach((dot, i) => {
        dot.classList.toggle('bg-primary', i === index);
        dot.classList.toggle('bg-gray-400', i !== index);
      });
    }

    function nextSlide() {
      index = (index + 1) % total;
      updateCarousel();
    }

    function prevSlide() {
      index = (index - 1 + total) % total;
      updateCarousel();
    }

    function startAutoPlay() {
      autoPlayInterval = setInterval(nextSlide, 3000);
    }

    function stopAutoPlay() {
      clearInterval(autoPlayInterval);
    }

    if (document.getElementById('prev')) {
      document.getElementById('prev').addEventListener('click', () => {
        stopAutoPlay();
        prevSlide();
        startAutoPlay();
      });
    }

    if (document.getElementById('next')) {
      document.getElementById('next').addEventListener('click', () => {
        stopAutoPlay();
        nextSlide();
        startAutoPlay();
      });
    }

    startAutoPlay();
    })();

    // Stats Counter Animation
    (function() {
      const statsContainer = document.getElementById('stats-container');
      if (!statsContainer) {
        console.warn('Stats container not found');
        return;
      }
    const counters = document.querySelectorAll('.stat-counter');
    let hasAnimated = false;

    function animateCounter(element) {
      const target = parseInt(element.getAttribute('data-target'));
      const duration = 2000;
      const increment = target / (duration / 16);
      let current = 0;

      const updateCounter = () => {
        current += increment;
        if (current < target) {
          element.textContent = Math.floor(current);
          requestAnimationFrame(updateCounter);
        } else {
          element.textContent = target;
        }
      };

      updateCounter();
    }

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting && !hasAnimated) {
          hasAnimated = true;
          counters.forEach(counter => {
            animateCounter(counter);
          });
          observer.unobserve(entry.target);
        }
      });
    }, {
      threshold: 0.5
    });

    if (statsContainer) {
      observer.observe(statsContainer);
    }
    })();

    // Scroll Animation
    const scrollElements = document.querySelectorAll(".animate-on-scroll");
  const elementInView = (el, dividend = 1) => {
    const elementTop = el.getBoundingClientRect().top;
    return (
      elementTop <=
      (window.innerHeight || document.documentElement.clientHeight) / dividend
    );
  };
  const displayScrollElement = (element) => {
    element.classList.add("animated");
  };
  const handleScrollAnimation = () => {
    scrollElements.forEach((el) => {
      if (elementInView(el, 1.25)) {
        displayScrollElement(el);
      }
    })
  }
    window.addEventListener("scroll", () => {
      handleScrollAnimation();
    });
    handleScrollAnimation();
    
  }); // End of partials:loaded event listener
</script>

<!-- Loading Screen Script -->
<script>
  (function() {
    const loadingScreen = document.getElementById('loading-screen');
    const loadingControls = document.getElementById('loading-controls');
    const networkStatus = document.getElementById('network-status');
    const networkIcon = document.getElementById('network-icon');
    const networkText = document.getElementById('network-text');
    const closeButton = document.getElementById('close-loader');
    const loadingText = document.getElementById('loading-text');
    
    let isResourcesLoaded = false;
    let isPartialsLoaded = false;
    let controlsShown = false;
    
    // Check network connection
    function checkNetworkStatus() {
      if (!navigator.onLine) {
        networkIcon.textContent = 'wifi_off';
        networkText.textContent = '❌ No internet connection - Close to view offline';
        networkStatus.style.background = 'rgba(220, 38, 38, 0.3)';
        return 'offline';
      }
      
      // Check connection speed using navigator.connection API
      const connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
      if (connection) {
        const effectiveType = connection.effectiveType; // '4g', '3g', '2g', 'slow-2g'
        const downlink = connection.downlink; // Mbps
        
        if (effectiveType === 'slow-2g' || effectiveType === '2g' || downlink < 0.5) {
          networkIcon.textContent = 'signal_cellular_alt_1_bar';
          networkText.textContent = '⚠️ Slow connection detected - You can close this';
          networkStatus.style.background = 'rgba(234, 179, 8, 0.3)';
          return 'slow';
        } else if (effectiveType === '3g' || downlink < 2) {
          networkIcon.textContent = 'signal_cellular_alt_2_bar';
          networkText.textContent = '✅ Network is OK - Close to continue';
          networkStatus.style.background = 'rgba(34, 197, 94, 0.3)';
          return 'moderate';
        } else {
          networkIcon.textContent = 'wifi';
          networkText.textContent = '✅ Network is good - Close to continue';
          networkStatus.style.background = 'rgba(34, 197, 94, 0.3)';
          return 'good';
        }
      }
      
      // Fallback if Connection API not available
      networkIcon.textContent = 'wifi';
      networkText.textContent = '✅ Network connected - Close to continue';
      networkStatus.style.background = 'rgba(34, 197, 94, 0.3)';
      return 'unknown';
    }
    
    // Show controls after 5 seconds
    function showControls() {
      if (controlsShown) return;
      controlsShown = true;
      loadingControls.classList.add('visible');
      checkNetworkStatus();
      
      // Update network status periodically
      setInterval(checkNetworkStatus, 3000);
    }
    
    // Hide loading screen
    function hideLoadingScreen() {
      loadingScreen.classList.add('hidden');
      // Remove from DOM after transition
      setTimeout(() => {
        loadingScreen.style.display = 'none';
      }, 500);
    }
    
    // Check if everything is ready
    function checkIfReady() {
      if (isResourcesLoaded && isPartialsLoaded) {
        loadingText.textContent = 'Ready!';
        setTimeout(hideLoadingScreen, 300);
      }
    }
    
    // Listen for all resources loaded
    window.addEventListener('load', function() {
      isResourcesLoaded = true;
      checkIfReady();
    });
    
    // Listen for partials loaded
    window.addEventListener('partials:loaded', function() {
      isPartialsLoaded = true;
      checkIfReady();
    });
    
    // Show controls after 5 seconds if still loading
    setTimeout(function() {
      if (!loadingScreen.classList.contains('hidden')) {
        showControls();
      }
    }, 5000);
    
    // Close button click handler
    closeButton.addEventListener('click', function() {
      hideLoadingScreen();
    });
    
    // Also hide on Escape key
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape' && controlsShown) {
        hideLoadingScreen();
      }
    });
  })();
</script>

<script src="assets/js/main.js"></script>

</body>
</html>
